# The Web Wand Engine (TWWE)

ä¸­æ–‡ | [English](./README_EN.md)

ä¸€ä¸ªåŸºäº Web çš„ Noita é­”æ–è¯„ä¼°ä¸åŒæ­¥å·¥å…·ã€‚æœ¬é¡¹ç›®æ—¨åœ¨æä¾›ä¸€ä¸ªç›´è§‚ã€ç¾è§‚ä¸”å¼ºå¤§çš„ç•Œé¢ï¼Œå¸®åŠ©ç©å®¶åˆ†æå¤æ‚çš„æ³•æ–é€»è¾‘ï¼Œå¹¶é€šè¿‡é«˜åº¦é›†æˆçš„åŒæ­¥ç³»ç»Ÿå®ç°ç½‘é¡µç«¯è®¾è®¡ä¸æ¸¸æˆå†…æ•°æ®çš„å®æ—¶è”åŠ¨ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### 1. æ¸¸æˆæ•°æ®åŒå‘åŒæ­¥
*   **æ‰‹åŠ¨æ¨é€/æ‹‰å–**: æ”¯æŒå°†å½“å‰å­˜æ¡£ä¸­çš„é­”æ–ä¸€é”®åŒæ­¥åˆ°ç½‘é¡µç«¯ï¼Œæˆ–å°†ç½‘é¡µç«¯è®¾è®¡çš„é­”æ–å®æ—¶æ¨é€åˆ°æ¸¸æˆä¸­(ç›®å‰è‡ªåŠ¨åŒæ­¥åŠŸèƒ½å¹¶ä¸å®Œå–„,åªæ¨èæ‰‹åŠ¨çš„å•æ¬¡æ¨é€åˆ°æ¸¸æˆå’Œä»æ¸¸æˆä¸­æ‹‰å–)ã€‚
*   **å•æ¬¡åŒæ­¥ä¿éšœ**: æ·±åº¦æ‰“ç£¨äº†æ¨é€ä¸æ‹‰å–é€»è¾‘ï¼Œç¡®ä¿å³ä¾¿åœ¨å¤æ‚çš„ Mod ç¯å¢ƒä¸‹ï¼Œå•æ¬¡åŒæ­¥ä¾ç„¶ç¨³å®šå¯é ã€‚
*   **æ— æ„Ÿè¿æ¥**: æ’ä»¶ç«¯é€šè¿‡é«˜æ€§èƒ½ Socket é€šä¿¡ä¸åç«¯äº¤äº’ï¼Œæ”¯æŒå®æ—¶è·å–æ¸¸æˆå†…æ‰€æœ‰é­”æ–ã€æ³•æœ¯æ•°æ®ã€‚

### 2. æœ¬åœ°é­”æ–ä»“åº“ (Wand Warehouse)
*   **æŒä¹…åŒ–å­˜å‚¨**: å†…ç½®å¼ºå¤§çš„æœ¬åœ°ä»“åº“ç³»ç»Ÿï¼Œæ”¯æŒå°†å„ç§è®¾è®¡çš„é­”æ–å­˜å‚¨åœ¨æµè§ˆå™¨ä¸­ï¼ˆlocalStorageï¼‰ã€‚åŒæ—¶æ”¯æŒ**ä¸€é”®å¯¼å‡ºå¤‡ä»½ä¸å¯¼å…¥**ï¼Œç¡®ä¿æ•°æ®åœ¨æµè§ˆå™¨ç¼“å­˜æ¸…ç†åä»å¯æ¢å¤ã€‚
*   **ç›®å½•æ ‘ç®¡ç†**: æ”¯æŒåˆ›å»ºå¤šçº§æ–‡ä»¶å¤¹ï¼Œé€šè¿‡æ‹–æ‹½è½»æ¾æ•´ç†ä½ çš„é­”æ–æ”¶è—ã€‚
*   **æ™ºèƒ½æ ‡ç­¾ä¸æœç´¢**: è‡ªåŠ¨ä¸ºä»“åº“å†…çš„é­”æ–ç”Ÿæˆæ£€ç´¢ä¿¡æ¯ï¼Œæ”¯æŒåç§°ä¸æ‹¼éŸ³è¿‡æ»¤ã€‚

### 3. å¤šæ¨¡ç»„ç”Ÿæ€å…¼å®¹
*   **æ·±åº¦é›†æˆ**: æ”¯æŒä¸€é”®ä» `Wand Editor` å’Œ `Spell Lab` (åŠå…¶åˆ†æ”¯ `Shugged`) çš„å­˜æ¡£è®¾ç½®ä¸­è·å–å¹¶å¯¼å…¥å·²å­˜å‚¨çš„é­”æ–ã€‚
*   **Mod æ³•æœ¯å®æ—¶æŠ“å–**: é€šè¿‡ Socket å®æ—¶åŒæ­¥æ¸¸æˆè¿è¡Œæ—¶å·²åŠ è½½çš„æ‰€æœ‰ Mod æ³•æœ¯æ•°æ®ï¼Œç¡®ä¿æ³•æœ¯å›¾æ ‡ä¸å±æ€§çš„ç»å¯¹å‡†ç¡®ã€‚
*   **æ¨¡æ‹Ÿå™¨æ³¨å…¥**: åç«¯æ”¯æŒå°† Mod çš„ `ModLuaFileAppend` é€»è¾‘æ³¨å…¥åˆ°æœ¬åœ°è¯„ä¼°å¼•æ“ä¸­ï¼Œå®ç°å¯¹ Mod æ³•æœ¯çš„ç²¾ç¡®å±æ€§æ¨¡æ‹Ÿä¸é€’å½’è®¡ç®—ã€‚

### 4. Noita Wiki æ·±åº¦é›†æˆ
*   **æ¨¡ç‰ˆè§£æ**: ç›´æ¥ç²˜è´´ Noita Wiki çš„ `{{Wand2 ...}}` æˆ–æ—§ç‰ˆ `{{Wand ...}}` æ¨¡ç‰ˆä»£ç ï¼ŒTWWE å³å¯ç¬é—´å°†å…¶è¿˜åŸä¸ºå¯è§†åŒ–é­”æ–ã€‚
*   **æ²¹çŒ´è„šæœ¬å¢å¼º**: æä¾› `noita_wiki_simulator.user.js` è„šæœ¬ï¼Œå®‰è£…åå¯åœ¨ Noita Wiki çš„æ³•æ–é¢æ¿æ—ç›´æ¥æ˜¾ç¤ºâ€œ[åœ¨æ¨¡æ‹Ÿå™¨ä¸­æ‰“å¼€]â€æŒ‰é’®ï¼Œå®ç°ä¸€é”®è·³è½¬ã€‚

### 5. é«˜æ•ˆç‡çš„äº¤äº’è®¾è®¡
*   **é«˜é¢‘åå¥½æ’åº**: æ³•æœ¯é€‰æ‹©å™¨ä¼šè‡ªåŠ¨ç»Ÿè®¡æ‰€æœ‰å·¥ä½œæµä¸­æ³•æœ¯çš„ä½¿ç”¨é¢‘ç‡ï¼Œå°†å¸¸ç”¨æ³•æœ¯ä¼˜å…ˆæ’å¸ƒã€‚
*   **æ‹¼éŸ³æœç´¢**: æ”¯æŒæ³•æœ¯åçš„å…¨æ‹¼ä¸é¦–å­—æ¯ç¼©å†™æœç´¢ï¼Œå¿«é€Ÿç²¾å‡†å®šä½ã€‚
*   **æ·±åº¦é”®ç›˜å¿«æ·é”®**:
    *   `Ctrl + C` / `V` / `X`: **æ™ºèƒ½ä¸Šä¸‹æ–‡æ“ä½œ**ã€‚é»˜è®¤å¯¹é¼ æ ‡æ‚¬åœçš„å•ä¸ªæ§½ä½è¿›è¡Œå¤åˆ¶/ç²˜è´´/å‰ªåˆ‡ï¼›è‹¥å½“å‰æœ‰é€‰ä¸­çš„æ³•æœ¯ç»„ï¼Œåˆ™å¯¹æ•´ä¸ªé€‰ä¸­åŒºåŸŸè¿›è¡Œæ‰¹é‡æ“ä½œã€‚
    *   `Ctrl + Z` / `Y`: æ— é™æ­¥çš„æ’¤é”€ä¸é‡åšã€‚
    *   `Ctrl + A`: å…¨é€‰å½“å‰é­”æ–å†…çš„æ‰€æœ‰æ³•æœ¯ã€‚
    *   `Ctrl + H` / `B`: å¿«é€Ÿå¼€å¯æˆ–å…³é—­å†å²è®°å½•/é­”æ–ä»“åº“é¢æ¿ã€‚
    *   `Space`: åœ¨å½“å‰ä½ç½®æ’å…¥ä¸€ä¸ªç©ºæ ¼å­ã€‚
    *   `Delete` / `Backspace`: åˆ é™¤æ‚¬åœæˆ–é€‰ä¸­çš„æ³•æœ¯ã€‚åœ¨è®¾ç½®ä¸­å¼€å¯â€œ**åˆ é™¤ç©ºæ ¼å­**â€åï¼ŒæŒ‰ `Delete` é”®å¯ç›´æ¥åˆ é™¤æ³•æœ¯åŠå…¶æ‰€åœ¨çš„æ ¼å­ï¼ˆé™ä½æ³•æ–å®¹é‡ï¼‰ã€‚
    *   `Alt (æŒ‰ä½)`: å®æ—¶æ˜¾ç¤ºæ³•æœ¯æ§½ä½çš„é€»è¾‘é¡ºåºæ•°å­—ã€‚
*   **é¼ æ ‡æŒ‡ä»¤ä¸æ¨¡å¼**:
    *   **ç®­å¤´æ¨¡å¼ (Arrow)**: **é»˜è®¤æ¨¡å¼** (é€‰æ‹©æ¨¡å¼)ã€‚æ”¯æŒç‚¹å‡»æˆ–æ‹–æ‹½é¼ æ ‡è¿›è¡Œ**æ¡†é€‰**ï¼Œå¿«é€Ÿé€‰ä¸­å¤šä¸ªæ³•æœ¯ã€‚
    *   **æ‰‹å½¢æ¨¡å¼ (Hand)**: æŠ“å–æ¨¡å¼ã€‚æ”¯æŒç‚¹å‡»æˆ–æ‹–æ‹½å•ä¸ªæ³•æœ¯ã€‚
    *   `ä¸­é”®ç‚¹å‡»`: æ ‡è®°/å–æ¶ˆæ ‡è®°æ³•æœ¯æ§½ä½ï¼ˆç”¨äºé«˜äº®æ˜¾ç¤ºæˆ–ç‰¹å®šè°ƒè¯•ï¼‰ã€‚
    *   `Alt + å·¦é”®ç‚¹å‡»`: å¿«é€Ÿåˆ‡æ¢æ³•æœ¯å‰©ä½™æ¬¡æ•°ï¼ˆ0 æˆ– æ»¡ï¼‰ï¼›è‹¥æ˜¯æ¡ä»¶æ³•æœ¯ï¼ˆå¦‚ä½è¡€é‡è§¦å‘ï¼‰ï¼Œåˆ™ç›´æ¥åˆ‡æ¢å¯¹åº”çš„æ¨¡æ‹Ÿç¯å¢ƒå¼€å…³ã€‚

### 6. åŒå¼•æ“è¯„ä¼°è®¡ç®—
*   **æœ¬åœ°é«˜æ€§èƒ½æ¨¡å¼**: è°ƒç”¨é«˜åº¦ä¼˜åŒ–çš„æœ¬åœ° `wand_eval_tree` è¿›ç¨‹ï¼Œæ”¯æŒæ•°ç™¾ä¸‡çº§é€’å½’çš„è¶…å¤æ‚æ³•æœ¯è®¡ç®—ï¼Œæ¨¡æ‹ŸçœŸå®å¼€ç«é€»è¾‘ï¼Œæ€§èƒ½æå¼ºã€‚
*   **é™æ€å…¼å®¹æ¨¡å¼ (WASM)**: å‰ç«¯é›†æˆ Lua WASM å¼•æ“ï¼Œç”¨äºè„±ç¦»åç«¯ç¯å¢ƒï¼ˆå¦‚ GitHub Pagesï¼‰æ—¶çš„åŸºç¡€è¯„ä¼°ï¼Œæ€§èƒ½é€‚åˆè½»é‡éªŒè¯ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åœ¨çº¿ä½¿ç”¨
æ‚¨å¯ä»¥ç›´æ¥è®¿é—® [GitHub Pages åœ¨çº¿ç‰ˆ](https://asmallhamis.github.io/TheWebWandEngine/)ã€‚
> [!NOTE]
> åœ¨çº¿ç‰ˆè¿è¡Œåœ¨é™æ€æ¨¡å¼ï¼ˆWASMï¼‰ä¸‹ï¼Œæ— æ³•è¿æ¥æœ¬åœ°æ¸¸æˆï¼Œä¸”è®¡ç®—æ€§èƒ½å—æµè§ˆå™¨é™åˆ¶ã€‚å¦‚éœ€å³æ—¶åŒæ­¥ã€é«˜æ€§èƒ½æ¨¡æ‹Ÿï¼Œè¯·ä¸‹è½½ä¸‹æ–¹æœ¬åœ°ç‰ˆã€‚

### 2. ä¸‹è½½æœ¬åœ°ç‰ˆ
ä» [GitHub Releases](https://github.com/Asmallhamis/TheWebWandEngine/releases/latest) ä¸‹è½½æœ€æ–°çš„ç»¿è‰²ä¾¿æºç‰ˆï¼š
1. è¿è¡Œ `TheWebWandEngine.exe` (æˆ– `Start_TheWebWandEngine.bat`)ã€‚
2. ç¨‹åºä¼šè‡ªåŠ¨åœ¨é»˜è®¤æµè§ˆå™¨ä¸­æ‰“å¼€ UIï¼ˆé»˜è®¤ç«¯å£ `17471`ï¼‰ã€‚

### 3. æ¸¸æˆå†…åŒæ­¥
å°†æ’ä»¶æ–‡ä»¶å¤¹ `wand_sync` å¤åˆ¶åˆ° Noita çš„ `mods` ç›®å½•ä¸‹å¹¶åœ¨æ¸¸æˆä¸­å¯ç”¨ã€‚
> [!IMPORTANT]
> å¿…é¡»åœ¨æ¸¸æˆè®¾ç½®ä¸­å¼€å¯â€œ**å…è®¸ä¸å®‰å…¨è„šæœ¬ (Enable unsafe mods)**â€ä»¥æ”¯æŒ Socket é€šä¿¡ã€‚

## ğŸ› ï¸ å¼€å‘ä¸æ„å»º (è¿›é˜¶)

### 1. ç¯å¢ƒå‡†å¤‡
- **Python 3.8+** ä¸ **Node.js 16+**ã€‚
- **LuaJIT**: ç¡®ä¿ `bin/` ç›®å½•ä¸‹å­˜åœ¨ `luajit.exe`ï¼ˆæœ¬åœ°è¯„ä¼°å¼•æ“é©±åŠ¨ï¼‰ã€‚
- **èµ„æºæ–‡ä»¶**: å°†æ¸¸æˆè§£åŒ…åçš„ `data` æ–‡ä»¶å¤¹é‡å‘½åä¸º `noitadata` æ”¾åœ¨æ ¹ç›®å½•ï¼Œå¯è·å¾—æœ€å®Œæ•´çš„æ³•æœ¯å›¾æ ‡ä¸ç¿»è¯‘æ”¯æŒã€‚

### 2. æœ¬åœ°è¿è¡Œ
```bash
# åç«¯
pip install -r requirements.txt
python backend/server.py

# å‰ç«¯
cd frontend && npm install && npm run dev
```

### 3. æ‰“åŒ…è„šæœ¬
- **`build_portable.bat`**: ç”Ÿæˆå•æ–‡ä»¶ä¾¿æº EXEã€‚
- **`build_gh_pages.bat`**: æ„å»º GitHub Pages é™æ€ç½‘é¡µç‰ˆã€‚
- **`verify_static_site.bat`**: æ„å»ºå¹¶å¯åŠ¨æœ¬åœ°é™æ€æœåŠ¡å™¨è¿›è¡ŒéªŒè¯ï¼ˆæ¨¡æ‹Ÿ GitHub Pages ç¯å¢ƒï¼‰ã€‚

### 4. æ‰‹åŠ¨æ„å»ºä¸å‘å¸ƒ (è¿›é˜¶)
å¦‚æœä½ éœ€è¦æ‰‹åŠ¨æ„å»ºæˆ–åœ¨ Linux ç¯å¢ƒä¸‹æ“ä½œï¼š
1. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**: `python -m venv .venv`
2. **æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ**: 
   - Windows: `.venv\Scripts\activate`
   - Linux: `source .venv/bin/activate`
3. **ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶**: è¿è¡Œ `python build_portable.py`ã€‚ç”Ÿæˆçš„å•æ–‡ä»¶å¯æ‰§è¡Œç¨‹åºå°†ä½äº `dist/TheWebWandEngine`ã€‚

## âš–ï¸ å¼€æºåè®®ä¸ç¬¬ä¸‰æ–¹å£°æ˜ (Credits)

### æ ¸å¿ƒå¼•æ“
æœ¬é¡¹ç›®é›†æˆäº†ä»¥ä¸‹å¼€æºç»„ä»¶ï¼š
- **[wand_eval_tree](https://github.com/NathanSnail/wand_eval_tree)** (by NathanSnail): æ ¸å¿ƒ Lua æ¨¡æ‹Ÿå¼•æ“ã€‚
  - **ä¿®æ”¹è¯´æ˜**: æœ¬ä»“åº“åŒ…å«è¯¥å¼•æ“çš„ä¿®æ”¹ç‰ˆæœ¬ï¼Œä¿®å¤äº†ç‰¹å®šå±æ€§ä¸‹çš„è´Ÿæ•°è§£æé—®é¢˜ï¼Œå¹¶å¢åŠ äº†å¯¹æ ‡å‡† JSON æ•°æ®å¯¼å‡ºçš„æ”¯æŒã€‚
  - **åè®®**: [GPL-3.0](./wand_eval_tree/LICENSE.txt)

### è‡´è°¢ (Acknowledgments)
åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä»¥ä¸‹é¡¹ç›®æä¾›äº†å·¨å¤§çš„çµæ„Ÿå’Œå‚è€ƒï¼š
- **[Component Explorer](https://github.com/dextercd/Noita-Component-Explorer)**: æ ¸å¿ƒç»„ä»¶å­—æ®µè§£æå‚è€ƒã€‚
- **[Spell Lab Shugged](https://github.com/shoozzzh/Spell-Lab-Shugged)**: ä¼˜ç§€çš„æ³•æ–ç¼–è¾‘å·¥å…·ï¼Œä¸ºæœ¬é¡¹ç›®æä¾›äº† UI äº¤äº’çµæ„Ÿã€‚
- **[Wand Editor](https://github.com/KagiamamaHIna/Wand-Editor)**: ä¼˜ç§€çš„æ³•æ–ç¼–è¾‘å·¥å…·ï¼Œæœ¬é¡¹ç›®å‚è€ƒäº†å…¶ UI è®¾è®¡å¹¶ä½¿ç”¨äº†éƒ¨åˆ†ä»£ç ã€‚ã€‚
- **[KuroLeaf's Noita Aliases](https://noita.wiki.gg/zh/wiki/User:KuroLeaf/aliases.csv)**: æ‹¼éŸ³æœç´¢çš„åˆ«åå¯¹ç…§æ•°æ®æ”¯æŒã€‚
- **AI è¾…åŠ©ç¼–ç¨‹**: æœ¬é¡¹ç›®çš„å¤§éƒ¨åˆ†ä»£ç ï¼ˆåŒ…æ‹¬å‰ç«¯ React æ¶æ„ã€åç«¯ Python æœåŠ¡åŠéƒ¨åˆ† Lua é€»è¾‘ï¼‰ç”± AI è¾…åŠ©ç¼–å†™è€Œæˆã€‚

## ğŸ“ è®¸å¯è¯
æœ¬é¡¹ç›®éµå®ˆ **GPL-3.0** å¼€æºåè®®ã€‚

---
*å£°æ˜ï¼šæœ¬é¡¹ç›®ä¸ Nolla Games æ— å®˜æ–¹å…³è”ã€‚è¯·å°Šé‡åŸç‰ˆæ¸¸æˆç‰ˆæƒã€‚*
